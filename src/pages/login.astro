---
export const prerender = false;
import Layout from "../layouts/Layout.astro";
import LoginForm from "../components/LoginForm.astro";
import { getSession } from "auth-astro/server";

const session = await getSession(Astro.request);

// Si el usuario ya está autenticado, redirigir al dashboard
if (session) {
  return Astro.redirect("/dashboard");
}
---

<Layout title="Iniciar Sesión | CAI Academia">
  <section class="page-content">
    <div class="container mx-auto px-6 py-16">
      <div class="max-w-md mx-auto">
        <h1 class="text-3xl md:text-4xl font-bold text-center mb-12">
          Bienvenido a CAI
          <div class="w-24 h-1 bg-cai-gold mx-auto mt-4"></div>
        </h1>
        <p class="text-xl text-center mb-12">
          Ingresa tus credenciales para acceder a tu cuenta
        </p>
        <LoginForm />
      </div>
    </div>
  </section>
</Layout>
